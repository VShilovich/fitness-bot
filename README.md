# Telegram-бот для трекинга питания и тренировок

Проект представляет собой Telegram-бота для расчета дневной нормы калорий и воды, а также ведения дневника питания и активности. Бот реализован на Python с использованием библиотеки aiogram.

## Функционал

1.  **Расчет норм:** Автоматический расчет суточной нормы воды и калорий на основе параметров пользователя (вес, рост, возраст, активность) и текущей погоды в указанном городе.
2.  **Трекинг питания:** Интеграция с API Spoonacular для поиска продуктов и автоматического подсчета калорийности.
3.  **Трекинг воды и тренировок:** Учет выпитой воды и сожженных калорий. Добавление тренировок автоматически увеличивает дневную норму воды.
4.  **Визуализация:** Генерация графиков прогресса (сравнение потребленного и нормы) с использованием библиотеки matplotlib. Графики формируются в памяти и отправляются пользователю в виде изображения.
5.  **Рекомендации:** Система советов, анализирующая текущий баланс калорий и воды, предлагающая соответствующие действия (перекус, тренировка или прием воды).

## Структура проекта

*   `bot.py` — точка входа, инициализация бота и диспетчера.
*   `handlers.py` — обработчики команд и сообщений, основная логика взаимодействия.
*   `utils.py` — вспомогательные функции: запросы к API, расчет формул, построение графиков.
*   `states.py` — классы состояний для сценариев диалога.
*   `config.py` — конфигурация и загрузка переменных окружения.
*   `middlewares.py` — middleware для логирования входящих сообщений.

## Установка и запуск

Для запуска проекта локально необходимо выполнить следующие шаги:

1.  **Установка зависимостей:**
    Убедитесь, что установлен Python 3.10+. Установите необходимые библиотеки:
    ```bash
    pip install -r requirements.txt
    ```

2.  **Настройка переменных окружения:**
    Создайте файл `.env` в корневой директории проекта и укажите необходимые ключи API:
    ```text
    BOT_TOKEN=ваш_токен_от_BotFather
    WEATHER_API_KEY=ваш_ключ_OpenWeatherMap
    SPOONACULAR_API_KEY=ваш_ключ_Spoonacular
    ```

3.  **Запуск бота:**
    ```bash
    python bot.py
    ```

## Деплой

Проект развернут на облачной платформе Amvera.
Для развертывания используется `Dockerfile`. Переменные окружения задаются в настройках проекта на платформе.